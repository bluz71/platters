<% title("Platter - Artists") %>
<div class="row">
  <div class="col-md-10">
    <div id="artists">
      <div class="page-header">
        <div class="pull-left">
          <%= index_page_header_text("Artist", @artists) %>
        </div>
        <div class="pull-right">
          <%= link_to new_artist_path, class: "action" do %>
            <%= fa_icon "plus" %> Artist
          <% end %>
        </div>
        <div class="clearfix"></div>
      </div>

      <div class="list-choice text-center">
        <ul class="pagination pagination-sm">
          <li><%= link_to "All", artists_path %></li>
          <% unless params.key?(:search) %>
            <% ("A".."Z").each do |letter| %>
              <li data-behavior="artist-letter-picker" class=<%= letter_activity(params, letter) %>><%= link_to letter, artists_path(letter: letter) %></li>
            <% end %>
          <% end %>
          <li><a class="search-link" title="Search" data-toggle="tooltip" data-behavior="artist-search-link"><%= fa_icon "search" %></a></li>
        </ul>
      </div>

      <%= render partial: "search/search", locals: {type: "artist", path: artists_path} %>

      <% if @artists.size == 0 %>
        <h4 class="text-center">No matching artists</h4>
      <% else %>
        <%= render partial: "artist", collection: @artists %>
        <%= paginate @artists %>
      <% end %>
    </div>
  </div>

  <div id="artists-sidebar" class="col-md-2">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h5 class="panel-title">Recent Albums</h5>
      </div>
      <div class="list-group">
        <% Album.including.most_recent.each do |album| %>
          <div class="album list-group-item">
            <h4><%= album.title %></h4>
              <div class="album-details">
                <h5>by <%= album.artist.name %></h5>
                <span class="icon">
                  <%= fa_icon "comment-o", text: "0", class: "spacer-left-xs" %>
                </span>
              </div>
            <%= image_tag(album.cover.small.url, class: "img-responsive") if album.cover? %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h5 class="panel-title">Recent Posts</h5>
      </div>
      <div class="list-group">
        <button type="button" class="list-group-item">Cras justo odio</button>
        <button type="button" class="list-group-item">Dapibus ac facilisis in</button>
        <button type="button" class="list-group-item">Morbi leo risus</button>
        <button type="button" class="list-group-item">Porta ac consectetur ac</button>
        <button type="button" class="list-group-item">Vestibulum at eros</button>
      </div>
    </div>
  </div>

</div>
